{% extends "core/base.html" %}

{% block content_name %}
    {% if user.username == object_user.username %}
        <h2>My profile</h2>
    {% endif %}
    <h2>{{object_user.username}}</h2>
{% endblock %}

{% block content %}
        {% if user.username == object_user.username %}
            <a href="{% url "user_update" user_id=user.id %}"> Update my profile </a>
        {% endif %}
        {{object_user.first_name}} {{object_user.last_name}}<br>
        {{object_user.email}}<br>
        {{object_user.last_login}}
    <hr>
        <h4>{{object_user.posts.count}} posts</h4>
        <ul>
        {% for post in object_user.posts.all %}
            <li><a href="{%url "post_detail" post_id=post.id %}">{{post.title}}</a></li>
        {% endfor %}
        </ul>
    <hr>
        <h4>{{object_user.comments.count}} comments</h4>
        <ul>
        {% for comment in object_user.comments.all %}
            <li><a href="{%url "post_detail" post_id=comment.author.id %}">
            {{comment.post.title}} </a>| {{comment.date_created}}
            <br> {{comment.text}}</li>
        {% endfor %}
        </ul>
{% endblock %}